---
doc_id: 2026012014470004
title: Registry v2.1 Quick Reference Card
date: 2026-01-20T14:47:00Z
status: REFERENCE
classification: QUICK_REFERENCE
author: System Architecture
version: 1.0
---

# Registry v2.1 Quick Reference Card

## Key Changes from v2.0 → v2.1

### 1. entity_kind Enum
```
OLD: file | asset | transient | external | module | directory | process
NEW: file | asset | transient | external | module | directory | process | other
                                                                          ^^^^^^
```

### 2. status Enum
```
OLD: active | deprecated | quarantined | archived | deleted
NEW: active | deprecated | quarantined | archived | deleted | closed | running | pending | failed
                                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
```

### 3. rel_type Normalization
```python
# REQUIRED: All rel_type values MUST be uppercase
edge_record["rel_type"] = edge_record["rel_type"].upper()

# Valid values:
rel_types = [
    "IMPORTS", "CALLS", "TESTS", "DOCUMENTS",
    "USES_SCHEMA", "USES_TEMPLATE", "GENERATED_FROM",
    "PRODUCES", "DEPENDS_ON", "DUPLICATES",
    "PARALLEL_IMPL", "IMPLEMENTS_ASSET",
    "REFERENCES_FILE", "REFERENCES_ASSET",
    "CONTAINS", "CONFLICTS_WITH"
]
```

### 4. Column Count
```
Total: 80 columns (was 79)
- Core: 9
- Entity: 41 (includes directory_path, module_id_override)
- Edge: 12
- Generator: 17
```

---

## Complete 80-Column List

### Core (9)
1. record_kind
2. record_id
3. status
4. notes
5. tags
6. created_utc
7. updated_utc
8. created_by
9. updated_by

### Entity (41)
10. entity_id
11. entity_kind
12. doc_id
13. filename
14. extension
15. relative_path
16. absolute_path
17. directory_path
18. size_bytes
19. mtime_utc
20. sha256
21. content_type
22. asset_id
23. asset_family
24. asset_version
25. canonical_path
26. transient_id
27. transient_type
28. ttl_seconds
29. expires_utc
30. external_ref
31. external_system
32. resolver_hint
33. module_id
34. module_id_source
35. module_id_override
36. process_id
37. process_step_id
38. process_step_role
39. role_code
40. type_code
41. function_code_1
42. function_code_2
43. function_code_3
44. entrypoint_flag
45. short_description
46. first_seen_utc
47. last_seen_utc
48. scan_id
49. source_entity_id (provenance)
50. supersedes_entity_id

### Edge (12)
51. edge_id
52. source_entity_id
53. target_entity_id
54. rel_type
55. directionality
56. confidence
57. evidence_method
58. evidence_locator
59. evidence_snippet
60. observed_utc
61. tool_version
62. edge_flags

### Generator (17)
63. generator_id
64. generator_name
65. generator_version
66. output_kind
67. output_path
68. output_path_pattern
69. declared_dependencies
70. input_filters
71. sort_rule_id
72. sort_keys
73. template_ref_entity_id
74. validator_id
75. validation_rules
76. last_build_utc
77. source_registry_hash
78. source_registry_scan_id
79. output_hash
80. build_report_entity_id

---

## Usage Examples

### Create File Entity (v2.1)
```json
{
  "record_kind": "entity",
  "record_id": "REC-000001",
  "entity_id": "0199900001260118",
  "entity_kind": "file",
  "status": "active",
  "directory_path": "src/core",
  "relative_path": "src/core/main.py",
  "created_utc": "2026-01-20T14:47:00Z",
  "updated_utc": "2026-01-20T14:47:00Z",
  "created_by": "scanner",
  "updated_by": "scanner"
}
```

### Create Transient Entity (v2.1)
```json
{
  "record_kind": "entity",
  "record_id": "REC-000002",
  "entity_id": "RUN-20260120-0001",
  "entity_kind": "transient",
  "status": "closed",
  "transient_type": "scan_run",
  "ttl_seconds": 86400,
  "expires_utc": "2026-01-21T14:47:00Z",
  "created_utc": "2026-01-20T14:00:00Z",
  "updated_utc": "2026-01-20T14:47:00Z",
  "created_by": "scanner",
  "updated_by": "scanner"
}
```

### Create Edge (v2.1)
```json
{
  "record_kind": "edge",
  "record_id": "REC-000003",
  "edge_id": "EDGE-20260120-000001",
  "source_entity_id": "0199900001260118",
  "target_entity_id": "0199900002260118",
  "rel_type": "IMPORTS",
  "directionality": "directed",
  "confidence": 0.95,
  "status": "active",
  "created_utc": "2026-01-20T14:47:00Z",
  "updated_utc": "2026-01-20T14:47:00Z",
  "created_by": "relationship_scanner",
  "updated_by": "relationship_scanner"
}
```

### Create Other Entity (v2.1 NEW)
```json
{
  "record_kind": "entity",
  "record_id": "REC-000004",
  "entity_id": "OTHER-000001",
  "entity_kind": "other",
  "status": "active",
  "short_description": "Custom entity type for future use",
  "created_utc": "2026-01-20T14:47:00Z",
  "updated_utc": "2026-01-20T14:47:00Z",
  "created_by": "manual",
  "updated_by": "manual"
}
```

---

## Validation Rules (v2.1)

### Required Fields by record_kind

**entity**:
- record_kind, record_id, status, entity_id, entity_kind, created_utc, updated_utc, created_by, updated_by

**edge**:
- record_kind, record_id, status, edge_id, source_entity_id, target_entity_id, rel_type, created_utc, updated_utc, created_by, updated_by

**generator**:
- record_kind, record_id, status, generator_id, generator_name, generator_version, created_utc, updated_utc, created_by, updated_by

### Constraints

```python
# status enum
status in ["active", "deprecated", "quarantined", "archived", "deleted", "closed", "running", "pending", "failed"]

# entity_kind enum
entity_kind in ["file", "asset", "transient", "external", "module", "directory", "process", "other"]

# rel_type (MUST be uppercase)
rel_type in ["IMPORTS", "CALLS", "TESTS", "DOCUMENTS", "USES_SCHEMA", "USES_TEMPLATE", 
             "GENERATED_FROM", "PRODUCES", "DEPENDS_ON", "DUPLICATES", "PARALLEL_IMPL",
             "IMPLEMENTS_ASSET", "REFERENCES_FILE", "REFERENCES_ASSET", "CONTAINS", "CONFLICTS_WITH"]
assert rel_type == rel_type.upper()

# confidence
0.0 <= confidence <= 1.0

# directionality
directionality in ["directed", "undirected"]
```

---

## Migration from v2.0

### Step 1: Backup
```bash
cp UNIFIED_SSOT_REGISTRY.json UNIFIED_SSOT_REGISTRY_v2.0_backup.json
```

### Step 2: Normalize rel_type
```bash
python core/normalize_rel_type.py \
  --input UNIFIED_SSOT_REGISTRY.json \
  --output UNIFIED_SSOT_REGISTRY_v2.1.json \
  --validate
```

### Step 3: Validate with JSON Schema
```python
import json
import jsonschema

schema = json.load(open("contracts/schemas/json/2026012014470001_unified_ssot_registry.schema.json"))
registry = json.load(open("UNIFIED_SSOT_REGISTRY_v2.1.json"))

jsonschema.validate(registry, schema)
print("✅ Valid v2.1 registry")
```

---

## Files Reference

| File | Purpose |
|------|---------|
| `2026012012410001_SINGLE_UNIFIED_SSOT_REGISTRY_SPEC.md` | Complete specification (v2.1) |
| `2026012014470001_unified_ssot_registry.schema.json` | JSON Schema validator |
| `2026012014470002_REGISTRY_ALIGNMENT_SUMMARY.md` | Alignment summary document |
| `core/normalize_rel_type.py` | Migration script for rel_type normalization |
| `2026012014470004_REGISTRY_V2.1_QUICK_REFERENCE.md` | This file |

---

## Quick Checks

### Is my registry v2.1 compliant?
```python
def is_v2_1_compliant(registry):
    checks = {
        "version_2.1": registry["meta"]["version"].startswith("2.1"),
        "no_lowercase_rel_type": all(
            r.get("rel_type", "A") == r.get("rel_type", "A").upper()
            for r in registry["records"]
            if r.get("record_kind") == "edge"
        ),
        "has_directory_path_field": any(
            "directory_path" in r
            for r in registry["records"]
            if r.get("record_kind") == "entity" and r.get("entity_kind") == "file"
        )
    }
    return all(checks.values()), checks
```

---

**END OF QUICK REFERENCE**
