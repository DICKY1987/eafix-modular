{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "ReentryDecision",
  "version": "1.0",
  "description": "Re-entry trading decision based on matrix analysis",
  "type": "object",
  "properties": {
    "id": {
      "type": "string",
      "format": "uuid",
      "description": "Unique decision identifier"
    },
    "timestamp": {
      "type": "string",
      "format": "date-time",
      "description": "Decision timestamp (UTC)"
    },
    "symbol": {
      "type": "string",
      "pattern": "^[A-Z]{6}$",
      "description": "Currency pair symbol"
    },
    "state": {
      "type": "string",
      "description": "Current matrix state identifier"
    },
    "action": {
      "type": "string",
      "enum": ["ENTER", "WAIT", "EXIT", "ADJUST"],
      "description": "Recommended action"
    },
    "rationale": {
      "type": "string",
      "description": "Decision reasoning"
    },
    "parameters": {
      "type": "object",
      "properties": {
        "position_size": {
          "type": "number",
          "description": "Recommended position size"
        },
        "stop_distance": {
          "type": "number",
          "description": "Stop loss distance in pips"
        },
        "take_profit_distance": {
          "type": "number",
          "description": "Take profit distance in pips"
        }
      },
      "additionalProperties": false
    },
    "matrix_version": {
      "type": "string",
      "description": "Version of decision matrix used"
    },
    "confidence": {
      "type": "number",
      "minimum": 0,
      "maximum": 1,
      "description": "Decision confidence score"
    }
  },
  "required": ["id", "timestamp", "symbol", "state", "action", "rationale"],
  "additionalProperties": false
}